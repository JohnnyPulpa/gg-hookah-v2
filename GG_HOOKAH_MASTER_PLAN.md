# GG HOOKAH v2 ‚Äî –ú–ê–°–¢–ï–†-–ü–õ–ê–ù –†–ê–ó–†–ê–ë–û–¢–ö–ò

> –û–±–Ω–æ–≤–ª–µ–Ω–æ: 20 —Ñ–µ–≤—Ä–∞–ª—è 2026

## –ö–æ–Ω—Ç–µ–∫—Å—Ç –±–∏–∑–Ω–µ—Å–∞

GG Hookah ‚Äî —Å–µ—Ä–≤–∏—Å –¥–æ—Å—Ç–∞–≤–∫–∏ –∏ –∞—Ä–µ–Ω–¥—ã –∫–∞–ª—å—è–Ω–æ–≤ –≤ –ë–∞—Ç—É–º–∏ (–ì—Ä—É–∑–∏—è).
–ö–ª–∏–µ–Ω—Ç –∑–∞–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞–ª—å—è–Ω —á–µ—Ä–µ–∑ Telegram Mini App ‚Üí –≤–ª–∞–¥–µ–ª–µ—Ü –¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–∞–º ‚Üí
–∫–ª–∏–µ–Ω—Ç –∫—É—Ä–∏—Ç (—Å–µ—Å—Å–∏—è —Å —Ç–∞–π–º–µ—Ä–æ–º) ‚Üí –≤–ª–∞–¥–µ–ª–µ—Ü –∑–∞–±–∏—Ä–∞–µ—Ç.

**–¢–µ–∫—É—â–∏–π —ç—Ç–∞–ø:** –í–ª–∞–¥–µ–ª–µ—Ü —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–¥–∏–Ω (–¥–æ—Å—Ç–∞–≤–∫–∞, —Å–±–æ—Ä–∫–∞, –ø–æ–¥–¥–µ—Ä–∂–∫–∞).
**–ë—É–¥—É—â–µ–µ:** –ù–∞–π–º –∫—É—Ä—å–µ—Ä–æ–≤, —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∑–æ–Ω –¥–æ—Å—Ç–∞–≤–∫–∏, event-–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ.

–°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∞ –î–õ–Ø –ú–ê–°–®–¢–ê–ë–ò–†–û–í–ê–ù–ò–Ø, –Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
–ø–æ—ç—Ç–∞–ø–Ω–æ ‚Äî —Å–Ω–∞—á–∞–ª–∞ –º–∏–Ω–∏–º—É–º –¥–ª—è —Å–æ–ª–æ-—Ä–∞–±–æ—Ç—ã, –ø–æ—Ç–æ–º –º–æ–¥—É–ª–∏ –¥–ª—è –∫–æ–º–∞–Ω–¥—ã.

---

## –§–ê–ó–ê 1: –§–£–ù–î–ê–ú–ï–ù–¢ ‚úÖ

- F1.1 ‚úÖ Admin Template Inheritance
- F1.2 ‚úÖ Notification Service (Admin ‚Üí Bot)
- F1.3 ‚úÖ Session Timer Cron
- F1.4 ‚úÖ Users table + Language sync

---

## –§–ê–ó–ê 2: –ö–õ–ò–ï–ù–¢–°–ö–ò–ô –û–ü–´–¢ (~3-4 –¥–Ω—è)

> –ë–æ—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø–æ–ª–µ–∑–Ω—ã–º –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞.

### F2.1 ‚Äî Bot Hot Actions: Cancel, Ready for Pickup

- –ö–ª–∏–µ–Ω—Ç –Ω–∞–∂–∏–º–∞–µ—Ç inline –∫–Ω–æ–ø–∫—É –≤ Telegram ‚Üí —Å—Ç–∞—Ç—É—Å –º–µ–Ω—è–µ—Ç—Å—è
- Cancel: —Ç–æ–ª—å–∫–æ –¥–æ DELIVERED (–ø–æ—Å–ª–µ ‚Äî —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ support)
- Ready for Pickup: –∫–ª–∏–µ–Ω—Ç —Å–∏–≥–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —á—Ç–æ –∑–∞–∫–æ–Ω—á–∏–ª —Ä–∞–Ω—å—à–µ
- Admin –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –¥–µ–π—Å—Ç–≤–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞
- –§–∞–π–ª—ã: `bot/handlers/order_actions.py`

### F2.2 ‚Äî Bot Hot Actions: Free +1h, Rebowl Request

- Free +1h: –∫–ª–∏–µ–Ω—Ç –Ω–∞–∂–∏–º–∞–µ—Ç ‚Üí session_ends_at += 1 hour (–¥–æ—Å—Ç—É–ø–Ω–æ 1 —Ä–∞–∑)
- Rebowl: –∫–ª–∏–µ–Ω—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç ‚Üí —Å–æ–∑–¥–∞—ë—Ç—Å—è rebowl_request ‚Üí admin –≤–∏–¥–∏—Ç –≤ –ø–∞–Ω–µ–ª–∏
- Rebowl pipeline: REQUEST ‚Üí CONFIRMED ‚Üí IN_PROGRESS ‚Üí DONE
- –í—Ä–µ–º—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ—Å–ª–µ 02:00 (Asia/Tbilisi)
- –§–∞–π–ª—ã: `bot/handlers/session_actions.py`

### F2.3 ‚Äî Support Routing

- –ö–ª–∏–µ–Ω—Ç –ø–∏—à–µ—Ç –±–æ—Ç—É –æ–±—ã—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ support_messages
- thread_type: order (–ø—Ä–∏–≤—è–∑–∞–Ω –∫ –∑–∞–∫–∞–∑—É), session, general
- –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç: "–ú—ã –ø–æ–ª—É—á–∏–ª–∏ –≤–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, –æ—Ç–≤–µ—Ç–∏–º –≤ —Ç–µ—á–µ–Ω–∏–µ 15 –º–∏–Ω—É—Ç"
- Admin –≤–∏–¥–∏—Ç –≤ Support inbox
- –§–∞–π–ª—ã: `bot/handlers/support.py`, `admin/routes/support.py`

### F2.4 ‚Äî Mini App: Active Order Actions

- –í Mini App –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ Orders: –∫–Ω–æ–ø–∫–∏ Cancel, Ready for Pickup
- –í—ã–∑—ã–≤–∞—é—Ç API ‚Üí API –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç notify ‚Üí –±–æ—Ç —É–≤–µ–¥–æ–º–ª—è–µ—Ç admin
- –§–∞–π–ª—ã: `miniapp/src/pages/Orders.tsx`, `backend/routes/orders.py`

---

## –§–ê–ó–ê 3: ADMIN –ü–ê–ù–ï–õ–¨ ‚Äî –û–ü–ï–†–ê–¶–ò–ò (~3-4 –¥–Ω—è)

> –ê–¥–º–∏–Ω–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ü–µ–Ω—Ç—Ä–æ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∏–∑–Ω–µ—Å–æ–º.

### F3.1 ‚Äî Admin Dashboard (–ø–æ–ª–Ω—ã–π —Ä–µ–¥–∏–∑–∞–π–Ω –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã)

–í–º–µ—Å—Ç–æ –ø—É—Å—Ç–æ–≥–æ dashboard ‚Äî –∂–∏–≤—ã–µ –≤–∏–¥–∂–µ—Ç—ã:

- üî• Live Orders (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö)
- üí∞ Today Revenue (—Å—É–º–º–∞ –∑–∞–∫–∞–∑–æ–≤ –∑–∞ —Å–µ–≥–æ–¥–Ω—è, –≤ GEL)
- üì¶ Total Orders Today
- ‚è± Active Sessions (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ)
- üéØ Available Hookahs (—Å–≤–æ–±–æ–¥–Ω–æ / –≤—Å–µ–≥–æ) ‚Äî –ø–æ–∫–∞ hardcode, –ø–æ—Ç–æ–º –∏–∑ inventory
- Kanban-–¥–æ—Å–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤ (–∫–∞—Ä—Ç–æ—á–∫–∏ –ø–æ –∫–æ–ª–æ–Ω–∫–∞–º —Å—Ç–∞—Ç—É—Å–æ–≤)
- Quick actions –ø—Ä—è–º–æ –∏–∑ –∫–∞—Ä—Ç–æ—á–µ–∫ (Accept, Ship, Deliver –∏ —Ç.–¥.)
- –ó–≤—É–∫–æ–≤–æ–µ/–≤–∏–∑—É–∞–ª—å–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ –Ω–æ–≤–æ–º –∑–∞–∫–∞–∑–µ (JavaScript audio + badge)
- Revenue chart –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π (–ø—Ä–æ—Å—Ç–æ–π bar chart)
- Top mixes pie chart
- Alerts: overdue sessions, low trust guests
- –§–∞–π–ª—ã: `admin/routes/dashboard.py`, `admin/templates/dashboard.html`, `admin/static/js/dashboard.js`

### F3.2 ‚Äî Settings Editor

- CRUD –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã settings (24 –∑–∞–ø–∏—Å–∏)
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞: Business Hours, Pricing, Delivery, Notifications
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–∏–ø–æ–≤ (number, text, boolean, json)
- –§–∞–π–ª—ã: `admin/routes/settings.py`, `admin/templates/settings.html`

### F3.3 ‚Äî Guests Management (CRM lite)

- –°–ø–∏—Å–æ–∫ –≥–æ—Å—Ç–µ–π —Å –ø–æ–∏—Å–∫–æ–º –∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- –ö–∞—Ä—Ç–æ—á–∫–∞ –≥–æ—Å—Ç—è: –∏–º—è, telegram, trust level (üü¢üü°üî¥), passport status
- –ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤ —ç—Ç–æ–≥–æ –≥–æ—Å—Ç—è
- Total spend, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤, –ª—é–±–∏–º—ã–π –º–∏–∫—Å
- Notes (–∞–¥–º–∏–Ω –º–æ–∂–µ—Ç –æ—Å—Ç–∞–≤–ª—è—Ç—å –∑–∞–º–µ—Ç–∫–∏)
- Passport upload (—Ñ–æ—Ç–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞ ‚Üí `/var/lib/gg-hookah/passports/`)
- –§–∞–π–ª—ã: `admin/routes/guests.py`, `admin/templates/guests_*.html`

### F3.4 ‚Äî Discounts & Promo Codes

- Issue discount (–ø—Ä–∏–≤—è–∑–∞—Ç—å —Å–∫–∏–¥–∫—É –∫ –≥–æ—Å—Ç—é): % –∏–ª–∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—É–º–º–∞
- Withdraw discount
- Create promo code: –∫–æ–¥, —Ç–∏–ø —Å–∫–∏–¥–∫–∏, —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è, –ª–∏–º–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π
- –§–∞–π–ª—ã: `admin/routes/discounts.py`, `admin/templates/discounts.html`

### F3.5 ‚Äî Support Inbox

- –î–≤–∞ —Ä–∞–∑–¥–µ–ª–∞: Priority (–ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–µ –∫ –∑–∞–∫–∞–∑—É/—Å–µ—Å—Å–∏–∏) –∏ General
- –ù–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ ‚Äî badge –≤ sidebar
- –ß—Ç–µ–Ω–∏–µ –∏ –æ—Ç–≤–µ—Ç –ø—Ä—è–º–æ –∏–∑ admin (–æ—Ç–≤–µ—Ç —É—Ö–æ–¥–∏—Ç –∫–ª–∏–µ–Ω—Ç—É —á–µ—Ä–µ–∑ –±–æ—Ç–∞)
- –§–∞–π–ª—ã: `admin/routes/support.py`, `admin/templates/support_*.html`

### F3.6 ‚Äî Logs & System

- Audit log viewer —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ (–¥–µ–π—Å—Ç–≤–∏–µ, –¥–∞—Ç–∞, admin)
- Service status (api, admin, bot ‚Äî –∑–µ–ª—ë–Ω—ã–π/–∫—Ä–∞—Å–Ω—ã–π)
- –§–∞–π–ª—ã: `admin/routes/system.py`, `admin/templates/system.html`

---

## –§–ê–ó–ê 4: –ü–û–õ–ò–†–û–í–ö–ê + PRODUCTION (~2-3 –¥–Ω—è)

### F4.1 ‚Äî Telegram initData Validation

- –í—Å–µ API –∑–∞–ø—Ä–æ—Å—ã –∏–∑ Mini App –ø—Ä–æ–≤–µ—Ä—è—é—Ç –ø–æ–¥–ø–∏—Å—å Telegram
- –ë–µ–∑ –≤–∞–ª–∏–¥–Ω–æ–π –ø–æ–¥–ø–∏—Å–∏ ‚Üí 401
- –§–∞–π–ª—ã: `backend/middleware/telegram_auth.py`

### F4.2 ‚Äî Mini App UX Polish

- Skeleton loader –≤–º–µ—Å—Ç–æ "–∑–∞–≥—Ä—É–∑–∫–∞ –º–∏–∫—Å–æ–≤"
- –ú–∞—Å–∫–æ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (—Ä–∞–∑–º–µ—Ä, –≤–æ–∑–º–æ–∂–Ω–æ GIF)
- Pull-to-refresh –Ω–∞ –≥–ª–∞–≤–Ω–æ–π
- Haptic feedback –Ω–∞ –∫–Ω–æ–ø–∫–∞—Ö (Telegram WebApp API)

### F4.3 ‚Äî Dynamic Discount Banner

- –ë–∞–Ω–Ω–µ—Ä –Ω–∞ Home –±–µ—Ä—ë—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ API (`/api/settings/discount`)
- –í–º–µ—Å—Ç–æ hardcoded -15%

### F4.4 ‚Äî Error Handling & Edge Cases

- –ß—Ç–æ –µ—Å–ª–∏ –±–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç? (fallback –≤ admin)
- –ß—Ç–æ –µ—Å–ª–∏ –∫–ª–∏–µ–Ω—Ç –∑–∞–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∏ 0 –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–∞–ª—å—è–Ω–æ–≤?
- Timeout –Ω–∞ –≤—Å–µ HTTP –∑–∞–ø—Ä–æ—Å—ã
- Graceful degradation

### F4.5 ‚Äî E2E Testing

- QA checklist –ø–æ —Å–ø–µ–∫–µ (P6)
- –ü–æ–ª–Ω—ã–π –ø—É—Ç—å: –∑–∞–∫–∞–∑ ‚Üí –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ ‚Üí –¥–æ—Å—Ç–∞–≤–∫–∞ ‚Üí —Å–µ—Å—Å–∏—è ‚Üí pickup ‚Üí –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ

---

## –§–ê–ó–ê 5: –ò–ù–í–ï–ù–¢–ê–†–¨ –ò –§–ò–ù–ê–ù–°–´ (~4-5 –¥–Ω–µ–π) ‚Äî POST-MVP

> –°–∏—Å—Ç–µ–º–∞ —É—á—ë—Ç–∞ –¥–ª—è —Å–æ–ª–æ-–≤–ª–∞–¥–µ–ª—å—Ü–∞. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –Ω–∞–π–º—É.

### F5.1 ‚Äî Inventory: Hookahs (Asset Tracking)

- –ù–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞: `hookahs` (id, serial_number, name, status, condition, notes, created_at)
- –°—Ç–∞—Ç—É—Å—ã: available, rented, maintenance, retired
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–∫–∞–∑–∞: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–≤—è–∑–∞—Ç—å —Å–≤–æ–±–æ–¥–Ω—ã–π hookah
- –ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏: hookah ‚Üí available
- Admin: —Å–ø–∏—Å–æ–∫ –∫–∞–ª—å—è–Ω–æ–≤, –∫–∞—Ä—Ç–æ—á–∫–∞ —Å –∏—Å—Ç–æ—Ä–∏–µ–π –∞—Ä–µ–Ω–¥
- Dashboard –≤–∏–¥–∂–µ—Ç: "Available: 7/12"
- –§–∞–π–ª—ã: –º–∏–≥—Ä–∞—Ü–∏—è, `admin/routes/inventory.py`, templates

### F5.2 ‚Äî Inventory: Consumables (—Ä–∞—Å—Ö–æ–¥–Ω–∏–∫–∏)

- –¢–∞–±–ª–∏—Ü–∞: `consumables` (id, name, unit, quantity, low_threshold, category)
- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏: –¢–∞–±–∞–∫ (–ø–æ –≤–∫—É—Å–∞–º), –£–≥–æ–ª—å, –®–ª–∞–Ω–≥–∏, –ß–∞—à–∏, –ú—É–Ω–¥—à—Ç—É–∫–∏
- –°–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∏ –∑–∞–∫–∞–∑–µ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–ª–∏ —Ä—É—á–Ω–æ–µ)
- Alert –ø—Ä–∏ low_threshold
- Admin: —Å–ø–∏—Å–æ–∫, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—Å–ø–∏—Å–∞–Ω–∏–µ, –∏—Å—Ç–æ—Ä–∏—è
- –§–∞–π–ª—ã: –º–∏–≥—Ä–∞—Ü–∏—è, `admin/routes/consumables.py`

### F5.3 ‚Äî Financial Dashboard

- Revenue: —Å–µ–≥–æ–¥–Ω—è / —ç—Ç–∞ –Ω–µ–¥–µ–ª—è / —ç—Ç–æ—Ç –º–µ—Å—è—Ü / custom range
- –°—Ä–µ–¥–Ω–∏–π —á–µ–∫, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤, revenue per hookah
- Top mixes –ø–æ –≤—ã—Ä—É—á–∫–µ (–Ω–µ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É)
- –†–∞—Å—Ö–æ–¥—ã (—Ä—É—á–Ω–æ–π –≤–≤–æ–¥): —Ç–∞–±–∞–∫, —É–≥–æ–ª—å, –∞—Ä–µ–Ω–¥–∞, –±–µ–Ω–∑–∏–Ω –∏ —Ç.–¥.
- Profit = Revenue - Expenses (–ø—Ä–æ—Å—Ç–æ–π P&L)
- Export –≤ CSV
- –§–∞–π–ª—ã: `admin/routes/finance.py`, `admin/templates/finance.html`

### F5.4 ‚Äî Delivery Zones

- –¢–∞–±–ª–∏—Ü–∞: `delivery_zones` (id, name, polygon_coords, delivery_fee, estimated_minutes)
- –ó–æ–Ω–∞ 1 (—Ü–µ–Ω—Ç—Ä –ë–∞—Ç—É–º–∏): 0‚Çæ, 20 –º–∏–Ω
- –ó–æ–Ω–∞ 2 (–Ω–æ–≤—ã–π –±—É–ª—å–≤–∞—Ä): 5‚Çæ, 30 –º–∏–Ω
- –ó–æ–Ω–∞ 3 (–æ–∫—Ä–∞–∏–Ω—ã): 10‚Çæ, 45 –º–∏–Ω
- Mini App –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∑–æ–Ω—É –ø–æ –∞–¥—Ä–µ—Å—É –∫–ª–∏–µ–Ω—Ç–∞
- Admin: –≤–∏–∑—É–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞ —Å –∑–æ–Ω–∞–º–∏ (Leaflet.js)
- –§–∞–π–ª—ã: –º–∏–≥—Ä–∞—Ü–∏—è, `admin/routes/zones.py`, miniapp –∏–∑–º–µ–Ω–µ–Ω–∏—è

---

## –§–ê–ó–ê 6: –ú–ê–°–®–¢–ê–ë–ò–†–û–í–ê–ù–ò–ï ‚Äî –ö–û–ú–ê–ù–î–ê (~5-7 –¥–Ω–µ–π)

> –ù–∞–Ω—è–ª –ø–µ—Ä–≤–æ–≥–æ –∫—É—Ä—å–µ—Ä–∞. –°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å multi-operator.

### F6.1 ‚Äî Delivery Staff Management

- –¢–∞–±–ª–∏—Ü–∞: `delivery_staff` (id, telegram_id, name, phone, status, created_at)
- –°—Ç–∞—Ç—É—Å—ã: active, on_delivery, offline
- –ü—Ä–∏–≤—è–∑–∫–∞ –∫—É—Ä—å–µ—Ä–∞ –∫ –∑–∞–∫–∞–∑—É (order.assigned_staff_id)
- Admin –Ω–∞–∑–Ω–∞—á–∞–µ—Ç –∫—É—Ä—å–µ—Ä–∞ –∏–∑ —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö
- –ö—É—Ä—å–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram: "–ù–æ–≤—ã–π –∑–∞–∫–∞–∑ #1234, –∞–¥—Ä–µ—Å: ..."
- –§–∞–π–ª—ã: –º–∏–≥—Ä–∞—Ü–∏—è, `admin/routes/staff.py`, bot –∏–∑–º–µ–Ω–µ–Ω–∏—è

### F6.2 ‚Äî Courier Bot (–æ—Ç–¥–µ–ª—å–Ω—ã–π flow)

- –ö—É—Ä—å–µ—Ä –ø–∏—à–µ—Ç –±–æ—Ç—É ‚Üí –≤–∏–¥–∏—Ç —Å–≤–æ–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –∑–∞–∫–∞–∑—ã
- –ö–Ω–æ–ø–∫–∏: "–ó–∞–±—Ä–∞–ª" (ON_THE_WAY), "–î–æ—Å—Ç–∞–≤–∏–ª" (DELIVERED), "–ó–∞–±—Ä–∞–ª –æ–±—Ä–∞—Ç–Ω–æ" (PICKUP)
- –§–æ—Ç–æ-–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–æ—Å—Ç–∞–≤–∫–∏ (–±–æ—Ç –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ñ–æ—Ç–æ)
- –§–∞–π–ª—ã: `bot/handlers/courier.py`

### F6.3 ‚Äî Staff Analytics

- –ó–∞–∫–∞–∑–æ–≤ –∑–∞ —Å–º–µ–Ω—É
- –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –¥–æ—Å—Ç–∞–≤–∫–∏
- –†–µ–π—Ç–∏–Ω–≥ (–Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–∫–æ—Ä–æ—Å—Ç–∏)
- Admin dashboard: —Ç–∞–±–ª–∏—Ü–∞ –∫—É—Ä—å–µ—Ä–æ–≤ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏

### F6.4 ‚Äî Role-Based Access

- –†–æ–ª–∏: owner (–ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø), manager (–∑–∞–∫–∞–∑—ã + —Å–µ—Å—Å–∏–∏), operator (—Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä)
- –¢–∞–±–ª–∏—Ü–∞: `admin_users` (id, telegram_id, role, name)
- Middleware –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–æ–ª–∏ –≤ admin routes

### F6.5 ‚Äî Notifications: Multi-channel

- Push notifications (Firebase) –¥–ª—è –∫—É—Ä—å–µ—Ä–æ–≤
- SMS fallback –¥–ª—è –≤–∞–∂–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (Twilio / local provider)
- Email –æ—Ç—á—ë—Ç—ã (–µ–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Å–≤–æ–¥–∫–∞ –≤–ª–∞–¥–µ–ª—å—Ü—É)

---

## –§–ê–ó–ê 7: GROWTH ‚Äî –ù–û–í–´–ï –ö–ê–ù–ê–õ–´ (~5-7 –¥–Ω–µ–π)

### F7.1 ‚Äî Event Booking Module

- –ù–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤ Mini App: "Events"
- –ü–∞–∫–µ—Ç—ã: Small (3 –∫–∞–ª—å—è–Ω–∞, 3—á), Medium (5, 5—á), Large (10, all-night)
- –ö–∞–ª–µ–Ω–¥–∞—Ä—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
- –ü—Ä–µ–¥–æ–ø–ª–∞—Ç–∞ 50% (payment link)
- Admin: Event calendar, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏
- –§–∞–π–ª—ã: miniapp pages, backend routes, admin routes, –º–∏–≥—Ä–∞—Ü–∏—è

### F7.2 ‚Äî Loyalty Program

- –ë–∞–ª–ª—ã –∑–∞ –∑–∞–∫–∞–∑—ã (1‚Çæ = 1 point)
- –£—Ä–æ–≤–Ω–∏: Bronze (0-500), Silver (500-2000), Gold (2000+)
- –ë–æ–Ω—É—Å—ã: Silver = -5%, Gold = -10%, birthday = free rebowl
- –†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –∫–æ–¥: –ø—Ä–∏–≤–µ–¥–∏ –¥—Ä—É–≥–∞ ‚Üí –æ–±–∞ –ø–æ–ª—É—á–∞—é—Ç 50 points
- Mini App: —Å—Ç—Ä–∞–Ω–∏—Ü–∞ "My Rewards"
- Bot: `/rewards`, `/referral`
- –§–∞–π–ª—ã: –º–∏–≥—Ä–∞—Ü–∏—è (loyalty_points, referral_codes), –≤—Å–µ —Å–ª–æ–∏

### F7.3 ‚Äî Hotel Partnerships

- –û—Ç–¥–µ–ª—å–Ω—ã–π –≤—Ö–æ–¥ –¥–ª—è –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤ (`hotel.gghookah.delivery` –∏–ª–∏ `/partner`)
- –ü–∞—Ä—Ç–Ω—ë—Ä –≤–∏–¥–∏—Ç: —Å–≤–æ–∏ –∑–∞–∫–∞–∑—ã, –∫–æ–º–∏—Å—Å–∏—é, QR –¥–ª—è –≥–æ—Å—Ç–µ–π –æ—Ç–µ–ª—è
- –ì–æ—Å—Ç—å –æ—Ç–µ–ª—è —Å–∫–∞–Ω–∏—Ä—É–µ—Ç QR ‚Üí Mini App —Å pre-filled hotel info
- –ö–æ–º–∏—Å—Å–∏—è –ø–∞—Ä—Ç–Ω—ë—Ä—É: 10-15% –æ—Ç –∑–∞–∫–∞–∑–∞
- –§–∞–π–ª—ã: –Ω–æ–≤—ã–π Flask blueprint, –º–∏–≥—Ä–∞—Ü–∏—è (partners, partner_orders)

### F7.4 ‚Äî Payment Integration

- BOG iPay –∏–ª–∏ TBC Pay (–≥—Ä—É–∑–∏–Ω—Å–∫–∏–µ –ø–ª–∞—Ç—ë–∂–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã)
- Payment link –≤ –±–æ—Ç–µ –ø—Ä–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞
- –°—Ç–∞—Ç—É—Å –æ–ø–ª–∞—Ç—ã –≤ admin
- –§–∞–π–ª—ã: `backend/services/payment.py`, –º–∏–≥—Ä–∞—Ü–∏—è (payments)

### F7.5 ‚Äî Advanced Analytics

- –ü—Ä–æ–≥–Ω–æ–∑ —Å–ø—Ä–æ—Å–∞ (–ø—Ä–æ—Å—Ç–∞—è ML: –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏ + –ø–æ–≥–æ–¥–∞ + —Å–µ–∑–æ–Ω)
- Heatmap –∑–∞–∫–∞–∑–æ–≤ –ø–æ –∫–∞—Ä—Ç–µ –ë–∞—Ç—É–º–∏
- Customer Lifetime Value (CLV)
- Churn prediction (–∫–ª–∏–µ–Ω—Ç –Ω–µ –∑–∞–∫–∞–∑—ã–≤–∞–ª 30+ –¥–Ω–µ–π ‚Üí –ø—Ä–æ–º–æ)

---

## –§–ê–ó–ê 8: –ú–û–ù–ò–¢–û–†–ò–ù–ì –ò –ù–ê–î–Å–ñ–ù–û–°–¢–¨ (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)

### F8.1 ‚Äî UptimeRobot (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)

- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥: https://gghookah.delivery, API health, Admin health
- Alert –≤ Telegram –ø—Ä–∏ –¥–∞—É–Ω—Ç–∞–π–º–µ

### F8.2 ‚Äî Backup Verification

- –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ pg_dump –±—ç–∫–∞–ø > 0 bytes
- –ö–æ–ø–∏—è –Ω–∞ –≤–Ω–µ—à–Ω–µ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (Cloudflare R2 ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω–æ –¥–æ 10GB)

### F8.3 ‚Äî Error Logging (Sentry ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω)

- Python exceptions ‚Üí Sentry
- JavaScript errors ‚Üí Sentry
- –§–∞–π–ª—ã: –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ `.env`

---

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –ø–ª–∞–Ω

1. Claude Code –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–¥–∞—á–∏ **–ø–æ –ø–æ—Ä—è–¥–∫—É** –≤–Ω—É—Ç—Ä–∏ —Ñ–∞–∑—ã
2. –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–π —Ñ–∞–∑–µ ‚Äî —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π
3. –í–Ω—É—Ç—Ä–∏ —Ñ–∞–∑—ã –ø–æ—Ä—è–¥–æ–∫ –∑–∞–¥–∞—á = –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (F3.1 –≤–∞–∂–Ω–µ–µ F3.6)
4. –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏: –∫–æ–º–º–∏—Ç, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ CURRENT_TASK.md –∏ CURRENT_STATE.md
5. –ï—Å–ª–∏ –∑–∞–¥–∞—á–∞ –Ω–µ—è—Å–Ω–∞ ‚Äî —Å–ø—Ä–æ—Å–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º

**–¢–µ–∫—É—â–∞—è –ø–æ–∑–∏—Ü–∏—è:** –§–∞–∑–∞ 1 –∑–∞–≤–µ—Ä—à–µ–Ω–∞ ‚úÖ ‚Üí –°–ª–µ–¥—É—é—â–∞—è: F2.1
